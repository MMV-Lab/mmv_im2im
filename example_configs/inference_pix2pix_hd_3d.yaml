# everything about data
data:
  input: 
    dir: "/mnt/eternus/sample_data/im2im/pix2pixHD_3d/test"
    params:
      data_type: "tiff"
    reader_params:
      dimension_order_out: "CZYX"
      C: [0]
      T: 0
  output:
    path: "/mnt/eternus/sample_data/im2im/pix2pixHD_3d/test_out"
    suffix: "pred"
  preprocess:
    - module_name: mmv_im2im.preprocessing.transforms
      func_name: norm_around_center
      params:
        min_z: 32
# model
model:
  category: pix2pix
  generator:
    module_name: mmv_im2im.models.nets.fnet_nn_3d_params
    func_name: Net
    params:
      depth: 4
      mult_chan: 32
      in_channels: 1
      out_channels: 1
  discriminator:
    type: predefined_multiscale
    params:
      num_discriminator: 2
      spatial_dims: 3
      in_channels: 2
      n_layers: 3
      nf: 64
      norm_layer: "INSTANCE"
  ckpt:
    checkpoint_path: "/mnt/eternus/users/Jianxu/logs/lightning_logs/version_0/checkpoints/last.ckpt"
    #hparams_file: ~/ambiomgroupdrive/Jianxu/projects/mmv_im2im/lightning_logs/version_2/hparams.yaml
  sliding_window_params:
    roi_size: [32, 128, 128]
    sw_batch_size: 2
    overlap: 0.2
    mode: "gaussian"
  #post_processing:
  #  - module_name: mmv_im2im.postprocessing.basic_collection
  #    func_name: extract_segmentation
  #    params:
  #      channel: 0
  #      cutoff: 0.00000001
# inference
run:
  gpus: 1
  precision: 16
