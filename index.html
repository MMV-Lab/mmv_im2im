

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Welcome to MMV Im2Im Transformation’s documentation! &mdash; MMV Im2Im Transformation 0.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> MMV Im2Im Transformation
          

          
          </a>

          
            
            
              <div class="version">
                0.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#stable-release">Stable release</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#from-sources">From sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Package modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mmv_im2im.html">mmv_im2im package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mmv_im2im.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mmv_im2im.bin.html">mmv_im2im.bin package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mmv_im2im.configs.html">mmv_im2im.configs package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mmv_im2im.data_modules.html">mmv_im2im.data_modules package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mmv_im2im.models.html">mmv_im2im.models package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mmv_im2im.postprocessing.html">mmv_im2im.postprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mmv_im2im.preprocessing.html">mmv_im2im.preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mmv_im2im.utils.html">mmv_im2im.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mmv_im2im.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="mmv_im2im.html#module-mmv_im2im.proj_tester">mmv_im2im.proj_tester module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mmv_im2im.html#mmv_im2im.proj_tester.ProjectTester"><code class="docutils literal notranslate"><span class="pre">ProjectTester</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mmv_im2im.html#module-mmv_im2im.proj_trainer">mmv_im2im.proj_trainer module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mmv_im2im.html#mmv_im2im.proj_trainer.ProjectTrainer"><code class="docutils literal notranslate"><span class="pre">ProjectTrainer</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mmv_im2im.html#module-mmv_im2im">Module contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mmv_im2im.html#mmv_im2im.get_module_version"><code class="docutils literal notranslate"><span class="pre">get_module_version()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#deploying">Deploying</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">MMV Im2Im Transformation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Welcome to MMV Im2Im Transformation’s documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="installation.html" class="btn btn-neutral float-right" title="Installation" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="welcome-to-mmv-im2im-transformation-s-documentation">
<h1>Welcome to MMV Im2Im Transformation’s documentation!<a class="headerlink" href="#welcome-to-mmv-im2im-transformation-s-documentation" title="Permalink to this heading">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="mmv-im2im-transformation">
<h1>MMV Im2Im Transformation<a class="headerlink" href="#mmv-im2im-transformation" title="Permalink to this heading">¶</a></h1>
<a class="reference external image-reference" href="https://github.com/MMV-Lab/mmv_im2im/actions"><img alt="Build Status" src="https://github.com/MMV-Lab/mmv_im2im/workflows/Build%20Main/badge.svg" /></a>
<a class="reference external image-reference" href="https://MMV-Lab.github.io/mmv_im2im/"><img alt="Documentation" src="https://github.com/MMV-Lab/mmv_im2im/workflows/Documentation/badge.svg" /></a>
<p>A generic python package for deep learning based image-to-image transformation in biomedical applications</p>
<p>(We are actively working on the documentation and tutorials. Submit a feature request if there is anything you need.)</p>
<hr class="docutils" />
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<p>The overall package is designed with a generic image-to-image transformation framework, which could be directly used for semantic segmentation, instance segmentation, image restoration, image generation, labelfree prediction, staining transformation, etc.. The implementation takes advantage of the state-of-the-art ML engineering techniques for users to focus on researches without worrying about the engineering details. In our pre-print <a class="reference external" href="https://arxiv.org/abs/2209.02498">arxiv link</a>, we demonstrated the effectiveness of <em>MMV_Im2Im</em> in more than ten different biomedical problems/datasets.</p>
<ul class="simple">
<li><p>For computational biomedical researchers (e.g., AI algorithm development or bioimage analysis workflow development), we hope this package could serve as the starting point for their specific problems, since the image-to-image “boilerplates” can be easily extended further development or adapted for users’ specific problems.</p></li>
<li><p>For experimental biomedical researchers, we hope this work provides a comprehensive view of the image-to-image transformation concept through diversified examples and use cases, so that deep learning based image-to-image transformation could be integrated into the assay development process and permit new biomedical studies that can hardly be done only with traditional experimental methods</p></li>
</ul>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h2>
<p>Before starting, we recommend to <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#creating-an-environment-with-commands">create a new conda environment</a> or <a class="reference external" href="https://docs.python.org/3/library/venv.html">a virtual environment</a> with Python 3.9+.</p>
<section id="install-pytorch-before-installing-our-package">
<h3>Install PyTorch before installing our package<a class="headerlink" href="#install-pytorch-before-installing-our-package" title="Permalink to this heading">¶</a></h3>
<p>Follow the instruction from the official website: <a class="reference external" href="https://pytorch.org/get-started/locally/">https://pytorch.org/get-started/locally/</a>.</p>
<p>To install the stable version (accessed on Oct 20, 2022) with conda for CUDA 11.3 (also, fine with 11.4), use the following command. Make sure check the website to find the command suitable for your system.</p>
<p>(note: we haven’t tested the latest PyTorch 2.0, will update accordingly if necessary.)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>pytorch<span class="w"> </span>torchvision<span class="w"> </span>torchaudio<span class="w"> </span><span class="nv">cudatoolkit</span><span class="o">=</span><span class="m">11</span>.3<span class="w"> </span>-c<span class="w"> </span>pytorch
</pre></div>
</div>
</section>
<section id="install-mmv-im2im-basic">
<h3>Install MMV_Im2Im (basic):<a class="headerlink" href="#install-mmv-im2im-basic" title="Permalink to this heading">¶</a></h3>
<p>(For users only using this package, not planning to change any code or make any extension):</p>
<p><strong>Stable Release:</strong> <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">mmv_im2im</span></code><span class="raw-html-m2r"><br></span>
<strong>Development Head:</strong> <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">git+https://github.com/MMV-Lab/mmv_im2im.git</span></code></p>
</section>
<section id="install-mmv-im2im-build-from-source">
<h3>Install MMV_Im2Im (build from source):<a class="headerlink" href="#install-mmv-im2im-build-from-source" title="Permalink to this heading">¶</a></h3>
<p>(For users planning to extend the methods or improve the code):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">MMV</span><span class="o">-</span><span class="n">Lab</span><span class="o">/</span><span class="n">mmv_im2im</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">mmv_im2im</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span><span class="p">[</span><span class="nb">all</span><span class="p">]</span>
</pre></div>
</div>
<p>Note: The <code class="docutils literal notranslate"><span class="pre">-e</span></code> option is the so-called “editable” mode. This will allow code changes taking effect immediately.</p>
</section>
</section>
<section id="quick-start">
<h2>Quick start<a class="headerlink" href="#quick-start" title="Permalink to this heading">¶</a></h2>
<p>You can try out on a simple example following <a class="reference external" href="tutorials/quick_start.md">the quick start guide</a></p>
<p>Basically, you can specify your training configuration in a yaml file and run training with <code class="docutils literal notranslate"><span class="pre">run_im2im</span> <span class="pre">--config</span> <span class="pre">/path/to/train_config.yaml</span></code>. Then, you can specify the inference configuration in another yaml file and run inference with <code class="docutils literal notranslate"><span class="pre">run_im2im</span> <span class="pre">--config</span> <span class="pre">/path/to/inference_config.yaml</span></code>. You can also run the inference as a function with the provided API. This will be useful if you want to run the inference within another python script or workflow.  Here is an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">aicsimageio</span> <span class="kn">import</span> <span class="n">AICSImage</span>
<span class="kn">from</span> <span class="nn">aicsimageio.writers</span> <span class="kn">import</span> <span class="n">OmeTiffWriter</span>
<span class="kn">from</span> <span class="nn">mmv_im2im.configs.config_base</span> <span class="kn">import</span> <span class="n">ProgramConfig</span><span class="p">,</span> <span class="n">parse_adaptor</span><span class="p">,</span> <span class="n">configuration_validation</span>
<span class="kn">from</span> <span class="nn">mmv_im2im</span> <span class="kn">import</span> <span class="n">ProjectTester</span>

<span class="c1"># load the inference configuration</span>
<span class="n">cfg</span> <span class="o">=</span> <span class="n">parse_adaptor</span><span class="p">(</span><span class="n">config_class</span><span class="o">=</span><span class="n">ProgramConfig</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="s2">&quot;./paper_configs/semantic_seg_2d_inference.yaml&quot;</span><span class="p">)</span>
<span class="n">cfg</span> <span class="o">=</span> <span class="n">configuration_validation</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>

<span class="c1"># define the executor for inference</span>
<span class="n">executor</span> <span class="o">=</span> <span class="n">ProjectTester</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">executor</span><span class="o">.</span><span class="n">setup_model</span><span class="p">()</span>
<span class="n">executor</span><span class="o">.</span><span class="n">setup_data_processing</span><span class="p">()</span>

<span class="c1"># get the data, run inference, and save the result</span>
<span class="n">fn</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;./data/img_00_IM.tiff&quot;</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">AICSImage</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span><span class="o">.</span><span class="n">get_image_data</span><span class="p">(</span><span class="s2">&quot;YX&quot;</span><span class="p">,</span> <span class="n">Z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># or using delayed loading if the data is large</span>
<span class="c1"># img = AICSImage(fn).get_image_dask_data(&quot;YX&quot;, Z=0, C=0, T=0)</span>
<span class="n">seg</span> <span class="o">=</span> <span class="n">executor</span><span class="o">.</span><span class="n">process_one_image</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="n">OmeTiffWriter</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">seg</span><span class="p">,</span> <span class="s2">&quot;output.tiff&quot;</span><span class="p">,</span> <span class="n">dim_orders</span><span class="o">=</span><span class="s2">&quot;YX&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="tutorials-examples-demonstrations-and-documentations">
<h2>Tutorials, examples, demonstrations and documentations<a class="headerlink" href="#tutorials-examples-demonstrations-and-documentations" title="Permalink to this heading">¶</a></h2>
<p>The overall package aims to achieve both simplicty and flexibilty with the modularized image-to-image boilerplates. To help different users to best use this package, we provide documentations from four different aspects:</p>
<ul class="simple">
<li><p><a class="reference external" href="tutorials/example_by_use_case.md">Examples (i.e., scripts and config files)</a> for reproducing all the experiments in our <a class="reference external" href="https://arxiv.org/abs/2209.02498">pre-print</a></p></li>
<li><p>A bottom-up tutorials on <a class="reference external" href="tutorials/how_to_understand_boilerplates.md">how to understand the modularized image-to-image boilerplates</a> (for extending or adapting the package) and <a class="reference external" href="tutorials/how_to_understand_config.md">how to understand the configuration system in details</a> (for advance usage to make specific customization).</p></li>
<li><p>A top-down tutorials as <a class="reference external" href="tutorials/FAQ.md">FAQ</a>, which will continuously grow as we receive more questions.</p></li>
<li><p>Full package API (i.e., the technical details of each function) <a class="reference external" href="https://MMV-Lab.github.io/mmv_im2im">MMV-Lab.github.io/mmv_im2im</a>.</p></li>
</ul>
</section>
<section id="development">
<h2>Development<a class="headerlink" href="#development" title="Permalink to this heading">¶</a></h2>
<p>See <a class="reference external" href="CONTRIBUTING.md">CONTRIBUTING.md</a> for information related to developing the code.</p>
<p><strong>MIT license</strong></p>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this heading">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Jianxu Chen.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>